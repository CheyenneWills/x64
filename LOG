dave shields	15-Jun-2012 11:45:10 am

tag as v3.7.1 (I wrongly used tag 3.7.1 for same version)
at this point can get compile and start execution, but crash if give an input file.

commit now so can start nasm branch.

save v37.s before patching as v37.s.oldgit

dave shields	13-Jun-2012 10:48:19 pm

Hand patch v37.s to get clean assembly. This involve eliminating extraneous instances of
DWORD PTR; for example, DWORD PRT regname.
Fix errors in osint files to get clean compiles.
Add include for <errno.h> to eliminate TLS mismatch error message from ld
Result is linked spitbol binary. 
Save patched v37.s as v37.s.patched.


dave shields	13-Jun-2012 1:41:37 pm

changed permissions of ostint files to not have 'x' attribute.

had to patch /usr/include/unistd.h to eliminate compiler error near line 1171. Did this
by enclosing in comment to avoid compilation.

dave shields	12-Jun-2012 10:11:06 pm

compile error due to missing include file /usr/include/bits/predef.h

A web search for "missing bits/prefer.h" led to
	http://ubuntuforums.org/showthread.php?t=1877944
which reported

	Found a fix. I needed the proper libc includes for 32-bit
	builds. I'm running a 64-bit machine. So I just ran:

		sudo apt-get install libc6-dev-i386

This fixed the problem

Another response suggested
	sudo apt-get install gcc-multilib 
and I also tried that, only to learn gcc-multilib was alredy installed.


dave shields	12-Jun-2012 5:20:22 pm

Save spitbol executable and supplied *.s files in new ./boot
directory. The .s files are to see if we can reproduce mark's
translation.

Move other files to new ./spitbol directory, with include and c files
for osint in ./spitbol/osint. Will need to revise makefile.



dave shields	12-Jun-2012 5:10:49 pm

Tag files as supplied by emmer as  v3.7


Note from Mark Emmer sent 9 September 2009. Attached was a tar file that
contained the starting files for this project.


	Dave,



	Here are all the source files and a makefile to build 32-bit spitbol.
	Undoubtedly you'll find that you're missing some libraries and perhaps
	the correct 'as'.  Let me know and I'll steer you in the right
	direction.  Also included is a spitbol executable which might work
	straight out of the box on your system.



	I included v37.s and errors.s, thus you should not need a working
	spitbol executable to build.



	Let me know how it goes.  And please don't upload this source to any
	public site until we decide on the license and refine it a bit more.



	Mark

 
